(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){e.exports=n(232)},111:function(e,t,n){},157:function(e,t,n){},173:function(e,t,n){},229:function(e,t,n){},232:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(44),o=n.n(r);n(111),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(69),l=n(21),s=(n(112),n(101)),u=n.n(s);n(157);var h=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(u.a,{type:"warning"},"warning"))},m=(n(158),n(102)),d=n.n(m),p=(n(164),n(103)),f=n.n(p),g=n(45),v=n(46),E=n(48),w=n(47),y=n(49),b=(n(173),n(25)),k=n.n(b);k.a.initialize("57b561f7d48f3c2e","191019");var O,j=k.a.Query("wine"),D=[];var x=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(w.a)(t).call(this,e))).state={refreshing:!1,down:!1,height:document.documentElement.clientHeight,data:[]},n}return Object(y.a)(t,e),Object(v.a)(t,[{key:"change",value:function(e){this.props.history.push({pathname:"/list/"+e.id})}},{key:"genData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];D=t,j.limit(10),j.find().then((function(e){for(var t=0;t<e.length;t++)D.push({id:"".concat(e[t].goodsID),icon:e[t].Banner.split("||")[0],text:e[t].Name,price:"".concat(e[t].Price)})})).then((function(t){setTimeout((function(){return e.setState({height:O,data:D})}),0)}))}},{key:"componentDidMount",value:function(){O=this.state.height-o.a.findDOMNode(this.ptr).offsetTop,this.genData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(d.a,{damping:100,ref:function(t){return e.ptr=t},style:{height:this.state.height,overflow:"auto"},indicator:this.state.down?{}:{deactivate:"\u4e0a\u62c9\u53ef\u4ee5\u5237\u65b0"},direction:"up",refreshing:this.state.refreshing,onRefresh:function(){e.setState({refreshing:!0,data:e.genData(e.state.data)}),setTimeout((function(){e.setState({refreshing:!1})}),1e3)}},i.a.createElement(f.a,{data:this.state.data,columnNum:2,hasLine:!1,renderItem:function(t){return i.a.createElement("div",{style:{padding:"12.5px"}},i.a.createElement("img",{src:t.icon,style:{width:"75%"},alt:"",onClick:function(){return e.change({id:t.id})}}),i.a.createElement("div",{className:"name"},i.a.createElement("span",null,t.text)),i.a.createElement("div",{className:"price"},i.a.createElement("p",null,"\uffe5",t.price),i.a.createElement("div",{className:"buy",onClick:function(){return e.change({id:t.id})}},"\u7acb\u5373\u8d2d\u4e70"),i.a.createElement("div",{style:{clear:"both"}})))}})))}}]),t}(i.a.Component),N=(n(220),n(51)),z=n.n(N),H=(n(225),n(71)),C=n.n(H),I=(n(227),n(72)),S=n.n(I),T=(n(90),n(68)),B=n.n(T);n(229);k.a.initialize("57b561f7d48f3c2e","191019");var A=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(w.a)(t).call(this,e))).state={goodsID:e.match.params.id,data:{},banner:[],intro:[],imgHeight:176},n}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=k.a.Query("wine");t.equalTo("goodsID","==",1*this.state.goodsID),t.find().then((function(t){var n=t[0];console.log(n),setTimeout((function(){e.setState({data:n,banner:n.Banner.split("||"),intro:n.intro.split("||")})}),100)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{paddingTop:"15px"}},i.a.createElement(S.a,null,i.a.createElement(B.a,{autoplay:!1,infinite:!0,beforeChange:function(e,t){return console.log("slide from ".concat(e," to ").concat(t))},afterChange:function(e){return console.log("slide to",e)}},this.state.banner.map((function(t){return i.a.createElement("a",{key:t,href:"http://www.alipay.com",style:{display:"inline-block",width:"100%",height:e.state.imgHeight}},i.a.createElement("img",{src:t,alt:"",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize")),e.setState({imgHeight:"auto"})}}))})))),i.a.createElement("h3",null,this.state.data.Name),i.a.createElement("p",null,"\uffe5",this.state.data.Price),i.a.createElement(S.a,{size:"lg"},i.a.createElement(C.a,{size:"lg"}),i.a.createElement(z.a,null,i.a.createElement(z.a.Header,{title:"\u5546\u54c1\u8be6\u60c5"}),i.a.createElement(z.a.Body,null,i.a.createElement("div",null,this.state.intro.map((function(t){return i.a.createElement("a",{key:t,href:"http://www.alipay.com",style:{display:"inline-block",width:"100%",height:e.state.imgHeight}},i.a.createElement("img",{src:"".concat(t),alt:"",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize")),e.setState({imgHeight:"auto"})}}))}))))),i.a.createElement(C.a,{size:"lg"})))}}]),t}(i.a.Component);o.a.render(i.a.createElement(c.a,null,i.a.createElement(l.a,{exact:!0,path:"/",component:h}),i.a.createElement(l.a,{exact:!0,path:"/list",component:x}),i.a.createElement(l.a,{exact:!0,path:"/list/:id",component:A})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[106,1,2]]]);
//# sourceMappingURL=main.34cc5723.chunk.js.map
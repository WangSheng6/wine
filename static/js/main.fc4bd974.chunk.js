(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){e.exports=n(229)},109:function(e,t,n){},111:function(e,t,n){},170:function(e,t,n){},226:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(49),r=n.n(o);n(109),n(110),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(70),l=n(20),s=n(32),u=n(33),d=n(35),h=n(34),m=n(36),p=(n(111),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"open",value:function(e){var t=!0;setTimeout((function(){t||(1==window.confirm("\u60a8\u6ca1\u6709\u5b89\u88c5\u5fae\u4fe1\uff0c\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1!")&&(window.location.href="http://weixin.qq.com/"),document.body.removeChild(a))}),2e3);var n=Date.now(),a=document.createElement("iframe");a.setAttribute("src",e),a.setAttribute("style","display:none"),document.body.appendChild(a),setTimeout((function(){var e=Date.now();(!n||e-n<1100)&&(t=!1)}),1e3)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("a",{class:"dl-btn",id:"download",onClick:function(){return e.open("weixin://")}},"\u6253\u5f00\u5fae\u4fe1"))}}]),t}(i.a.Component)),f=(n(112),n(100)),g=n.n(f),v=(n(161),n(101)),E=n.n(v),w=(n(170),n(37)),y=n.n(w);y.a.initialize("57b561f7d48f3c2e","191019");var b,k=y.a.Query("wine"),j=[],O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={refreshing:!1,down:!1,height:document.documentElement.clientHeight,data:[],hasMore:!0,reqNum:0},window.document.title="\u5546\u54c1\u5217\u8868",n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"change",value:function(e){this.props.history.push({pathname:"/list/"+e.id})}},{key:"genData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;j=t,k.limit(10),k.skip(10*n),k.find().then((function(t){for(var n=0;n<t.length;n++)j.push({id:"".concat(t[n].goodsID),icon:t[n].Banner.split("||")[0],text:t[n].Name,price:"".concat(t[n].Price)});t.length<10&&e.setState({hasMore:!1})})).then((function(t){setTimeout((function(){return e.setState({height:b,data:j,refreshing:!1})}),0)}))}},{key:"componentDidMount",value:function(){b=this.state.height-r.a.findDOMNode(this.ptr).offsetTop,this.genData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(g.a,{damping:100,ref:function(t){return e.ptr=t},style:{height:this.state.height,overflow:"auto"},indicator:this.state.down?{}:{deactivate:"\u4e0a\u62c9\u53ef\u4ee5\u5237\u65b0"},direction:"up",refreshing:this.state.refreshing,onRefresh:function(){e.state.hasMore&&e.setState({refreshing:!0,data:e.genData(e.state.data,e.state.reqNum+1)})}},i.a.createElement(E.a,{data:this.state.data,columnNum:2,hasLine:!1,renderItem:function(t){return i.a.createElement("div",{style:{padding:"12.5px"}},i.a.createElement("img",{src:t.icon,style:{width:"75%"},alt:"",onClick:function(){return e.change({id:t.id})}}),i.a.createElement("div",{className:"name"},i.a.createElement("span",null,t.text)),i.a.createElement("div",{className:"price"},i.a.createElement("p",null,"\u4ef7\u683c\uff1a\uffe5",t.price)))}})))}}]),t}(i.a.Component),D=(n(217),n(51)),x=n.n(D),N=(n(222),n(72)),C=n.n(N),z=(n(224),n(73)),H=n.n(z),T=(n(90),n(69)),I=n.n(T),M=(n(77),n(68)),S=n.n(M);n(226);y.a.initialize("57b561f7d48f3c2e","191019");var q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={goodsID:e.match.params.id,data:{},banner:[],intro:[],imgHeight:176,loading:!0},window.document.title="\u5546\u54c1\u8be6\u60c5",n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=y.a.Query("wine");t.equalTo("goodsID","==",1*this.state.goodsID),t.find().then((function(t){var n=t[0];setTimeout((function(){e.setState({data:n,banner:n.Banner.split("||"),intro:n.intro.split("||"),loading:!1})}),100)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{paddingTop:"15px"}},this.state.loading?i.a.createElement("div",{className:"loading"},i.a.createElement(S.a,{type:"loading"}),i.a.createElement("p",{className:"text"},"\u6570\u636e\u52a0\u8f7d\u4e2d...")):i.a.createElement("div",null,i.a.createElement(H.a,null,i.a.createElement(I.a,{autoplay:!1,infinite:!0,beforeChange:function(e,t){return console.log("slide from ".concat(e," to ").concat(t))},afterChange:function(e){return console.log("slide to",e)}},this.state.banner.map((function(t){return i.a.createElement("a",{key:t,href:"javascript: void(0)",style:{display:"inline-block",width:"100%",height:e.state.imgHeight}},i.a.createElement("img",{src:t,alt:"",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize")),e.setState({imgHeight:"auto"})}}))})))),i.a.createElement("h3",null,this.state.data.Name),i.a.createElement("p",null,"\uffe5",this.state.data.Price),i.a.createElement(H.a,{size:"lg"},i.a.createElement(C.a,{size:"lg"}),i.a.createElement(x.a,null,i.a.createElement(x.a.Header,{title:"\u5546\u54c1\u8be6\u60c5"}),i.a.createElement(x.a.Body,null,i.a.createElement("div",null,this.state.intro.map((function(t){return i.a.createElement("a",{key:t,href:"javascript: void(0)",style:{display:"inline-block",width:"100%",height:e.state.imgHeight}},i.a.createElement("img",{src:"".concat(t),alt:"",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize")),e.setState({imgHeight:"auto"})}}))}))))),i.a.createElement(C.a,{size:"lg"}))))}}]),t}(i.a.Component);r.a.render(i.a.createElement(c.a,null,i.a.createElement(l.a,{exact:!0,path:"/",component:p}),i.a.createElement(l.a,{exact:!0,path:"/list",component:O}),i.a.createElement(l.a,{exact:!0,path:"/list/:id",component:q})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[104,1,2]]]);
//# sourceMappingURL=main.fc4bd974.chunk.js.map